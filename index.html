<script>
  const { createApp, ref, onMounted } = Vue
  createApp({
    setup() {
      const inspections = ref([])
      const error = ref("")
      const loading = ref(true)

      onMounted(async () => {
        try {
          console.log("üîç Trying to fetch inspections.json...")
          const res = await fetch("./inspections.json")
          console.log("Response status:", res.status)
          if (!res.ok) throw new Error("Response not ok: " + res.status)
          inspections.value = await res.json()
          console.log("‚úÖ Data loaded:", inspections.value)
        } catch (err) {
          error.value = "‚ùå Failed to load inspections: " + err.message
          console.error("Fetch error:", err)
        } finally {
          loading.value = false
        }
      })

      return { inspections, loading, error }
    }
  }).mount("#app")
</script>
